\doxysection{runestone.\+h}
\hypertarget{runestone_8h_source}{}\label{runestone_8h_source}\index{lib/runestone.h@{lib/runestone.h}}
\mbox{\hyperlink{runestone_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#ifndef\ RUNESTONE\_H}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#define\ RUNESTONE\_H}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <stdbool.h>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <stddef.h>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <stdint.h>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{cvector_8h}{cvector.h}}"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#define\ \_RS\_ANSI(CODE)\ "{}\(\backslash\)033["{}\ \#CODE\ "{}m"{}}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#define\ RS\_COLOR\_RESET\ \_RS\_ANSI(0)}}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#define\ RS\_COLOR\_RED\ \_RS\_ANSI(31)}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#define\ RS\_COLOR\_GREEN\ \_RS\_ANSI(32)}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#define\ RS\_COLOR\_YELLOW\ \_RS\_ANSI(33)}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#define\ RS\_COLOR\_BLUE\ \_RS\_ANSI(34)}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#define\ RS\_COLOR\_MAGENTA\ \_RS\_ANSI(35)}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\#define\ RS\_COLOR\_CYAN\ \_RS\_ANSI(36)}}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#define\ RS\_COLOR\_WHITE\ \_RS\_ANSI(37)}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#define\ RS\_COLOR\_BOLD\ \_RS\_ANSI(1)}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\#define\ RS\_COLOR\_UNDERLINE\ \_RS\_ANSI(4)}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \textcolor{comment}{//\ Configuration\ constants\ for\ the\ Runestone\ IR.}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00059\ \textcolor{preprocessor}{\#define\ RS\_MAX\_INSTR\ 1024}}
\DoxyCodeLine{00061\ \textcolor{preprocessor}{\#define\ RS\_MAX\_BB\ 1024}}
\DoxyCodeLine{00063\ \textcolor{preprocessor}{\#define\ RS\_MAX\_REGS\ 256}}
\DoxyCodeLine{00065\ \textcolor{preprocessor}{\#define\ RS\_REGMAP\_INIT\_CAPACITY\ 16}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\#define\ RS\_INVALID\_VREG\ UINT8\_MAX}}
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#define\ RS\_REG\_SPILL\ RS\_INVALID\_VREG}}
\DoxyCodeLine{00072\ \textcolor{preprocessor}{\#define\ RS\_TEMPORARY\_VREG\ RS\_INVALID\_VREG}}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \textcolor{keyword}{typedef}\ uint8\_t\ \mbox{\hyperlink{group__Runestone_ga6d95fa5cb03e3737df867b707f39a21d}{rs\_register\_t}};}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00083\ \textcolor{preprocessor}{\#define\ RS\_OPERAND\_TYPES(X)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00084\ \textcolor{preprocessor}{\ \ X(NULL)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00085\ \textcolor{preprocessor}{\ \ X(INT64)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00086\ \textcolor{preprocessor}{\ \ X(ADDR)\ \ \ \(\backslash\)}}
\DoxyCodeLine{00087\ \textcolor{preprocessor}{\ \ X(REG)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00088\ \textcolor{preprocessor}{\ \ X(BB)\ \ \ \ }}
\DoxyCodeLine{00098\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}}
\DoxyCodeLine{00099\ \{}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \textcolor{preprocessor}{\#define\ X(name)\ RS\_OPERAND\_TYPE\_\#\#name,}}
\DoxyCodeLine{00102\ \ \ \mbox{\hyperlink{group___runestone_ga1735e19d48e13b496d499e9f24b484d8}{RS\_OPERAND\_TYPES}}(\mbox{\hyperlink{runestone_8h_a826edd40636cbaa44266b97c8c6a4fa3}{X}})}
\DoxyCodeLine{00103\ \textcolor{preprocessor}{\#undef\ X}}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ \ \ \mbox{\hyperlink{group___runestone_ggac25ea882362c45f452242f0ce898e6e4a1745cbf3e9785d948d0b1c2c76026f0b}{RS\_OPERAND\_TYPE\_COUNT}}\ }
\DoxyCodeLine{00106\ \}\ \mbox{\hyperlink{group___runestone_gac25ea882362c45f452242f0ce898e6e4}{rs\_operand\_type\_t}};}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00117\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{00118\ \{}
\DoxyCodeLine{00119\ \ \ \mbox{\hyperlink{group__Runestone_gac25ea882362c45f452242f0ce898e6e4}{rs\_operand\_type\_t}}\ type;\ }
\DoxyCodeLine{00120\ \ \ \textcolor{keyword}{union}}
\DoxyCodeLine{00121\ \ \ \{}
\DoxyCodeLine{00122\ \ \ \ \ int64\_t\ int64;\ }
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ addr;\ \ \ }
\DoxyCodeLine{00124\ \ \ \ \ uint8\_t\ vreg;\ \ }
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ bb\_id;\ \ }
\DoxyCodeLine{00126\ \ \ \};}
\DoxyCodeLine{00127\ \}\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}};}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00130\ \textcolor{preprocessor}{\#define\ RS\_OPERAND\_NULL\ ((rs\_operand\_t)\{.type\ =\ RS\_OPERAND\_TYPE\_NULL\})}}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00133\ \textcolor{preprocessor}{\#define\ RS\_OPERAND\_INT64(value)\ \(\backslash\)}}
\DoxyCodeLine{00134\ \textcolor{preprocessor}{\ \ ((rs\_operand\_t)\{.type\ =\ RS\_OPERAND\_TYPE\_INT64,\ .int64\ =\ (value)\})}}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00137\ \textcolor{preprocessor}{\#define\ RS\_OPERAND\_ADDR(value)\ \(\backslash\)}}
\DoxyCodeLine{00138\ \textcolor{preprocessor}{\ \ ((rs\_operand\_t)\{.type\ =\ RS\_OPERAND\_TYPE\_ADDR,\ .addr\ =\ (value)\})}}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00141\ \textcolor{preprocessor}{\#define\ RS\_OPERAND\_REG(value)\ \(\backslash\)}}
\DoxyCodeLine{00142\ \textcolor{preprocessor}{\ \ ((rs\_operand\_t)\{.type\ =\ RS\_OPERAND\_TYPE\_REG,\ .vreg\ =\ (value)\})}}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00145\ \textcolor{preprocessor}{\#define\ RS\_OPERAND\_BB(value)\ \(\backslash\)}}
\DoxyCodeLine{00146\ \textcolor{preprocessor}{\ \ ((rs\_operand\_t)\{.type\ =\ RS\_OPERAND\_TYPE\_BB,\ .bb\_id\ =\ (value)\})}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00157\ \textcolor{preprocessor}{\#define\ RS\_OPCODES(X)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00158\ \textcolor{preprocessor}{\ \ X(MOVE,\ "{}move"{})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00159\ \textcolor{preprocessor}{\ \ X(COPY,\ "{}copy"{})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00160\ \textcolor{preprocessor}{\ \ X(LOAD,\ "{}load"{})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00161\ \textcolor{preprocessor}{\ \ X(STORE,\ "{}store"{})\ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00162\ \textcolor{preprocessor}{\ \ X(ADD,\ "{}add"{})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00163\ \textcolor{preprocessor}{\ \ X(SUB,\ "{}sub"{})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00164\ \textcolor{preprocessor}{\ \ X(MULT,\ "{}mult"{})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00165\ \textcolor{preprocessor}{\ \ X(DIV,\ "{}div"{})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00166\ \textcolor{preprocessor}{\ \ X(RET,\ "{}ret"{})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00167\ \textcolor{preprocessor}{\ \ X(BR,\ "{}br"{})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00168\ \textcolor{preprocessor}{\ \ X(BR\_IF,\ "{}br\_if"{})\ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00169\ \textcolor{preprocessor}{\ \ X(CMP\_EQ,\ "{}cmp\_eq"{})\ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00170\ \textcolor{preprocessor}{\ \ X(CMP\_LT,\ "{}cmp\_lt"{})\ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00171\ \textcolor{preprocessor}{\ \ X(CMP\_GT,\ "{}cmp\_gt"{})\ }}
\DoxyCodeLine{00177\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}}
\DoxyCodeLine{00178\ \{}
\DoxyCodeLine{00179\ \textcolor{preprocessor}{\#define\ X(name,\ str)\ RS\_OPCODE\_\#\#name,}}
\DoxyCodeLine{00180\ \ \ \mbox{\hyperlink{group__Runestone_ga8c1834c4f9033c4366f6bfab4f188a55}{RS\_OPCODES}}(\mbox{\hyperlink{runestone_8h_a826edd40636cbaa44266b97c8c6a4fa3}{X}})}
\DoxyCodeLine{00181\ \textcolor{preprocessor}{\#undef\ X}}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \mbox{\hyperlink{group__Runestone_gga5b48c8653be44d84482b1d7ed019d44eaa756d97de66985fb09b768f45b58ab47}{RS\_OPCODE\_COUNT}}\ }
\DoxyCodeLine{00183\ \}\ \mbox{\hyperlink{group__Runestone_ga5b48c8653be44d84482b1d7ed019d44e}{rs\_opcode\_t}};}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00195\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{group__Runestone_ga1199f2d132744b4b7dfd06403e5d40f1}{rs\_opcode\_to\_str}}(\mbox{\hyperlink{group__Runestone_ga5b48c8653be44d84482b1d7ed019d44e}{rs\_opcode\_t}}\ opcode)}
\DoxyCodeLine{00196\ \{}
\DoxyCodeLine{00198\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *names[]\ =\ \{}
\DoxyCodeLine{00199\ \textcolor{preprocessor}{\#define\ X(name,\ str)\ [RS\_OPCODE\_\#\#name]\ =\ str,}}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \mbox{\hyperlink{group__Runestone_ga8c1834c4f9033c4366f6bfab4f188a55}{RS\_OPCODES}}(\mbox{\hyperlink{runestone_8h_a826edd40636cbaa44266b97c8c6a4fa3}{X}})}
\DoxyCodeLine{00201\ \textcolor{preprocessor}{\#undef\ X}}
\DoxyCodeLine{00202\ \ \ \};}
\DoxyCodeLine{00204\ \ \ \textcolor{keywordflow}{return}\ (opcode\ <\ \mbox{\hyperlink{group__Runestone_gga5b48c8653be44d84482b1d7ed019d44eaa756d97de66985fb09b768f45b58ab47}{RS\_OPCODE\_COUNT}})\ ?\ names[opcode]\ :\ \textcolor{stringliteral}{"{}unknown"{}};}
\DoxyCodeLine{00205\ \}}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00215\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{00216\ \{}
\DoxyCodeLine{00217\ \ \ \mbox{\hyperlink{group__Runestone_ga5b48c8653be44d84482b1d7ed019d44e}{rs\_opcode\_t}}\ opcode;\ }
\DoxyCodeLine{00218\ \ \ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ dest;\ \ }
\DoxyCodeLine{00219\ \ \ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src1;\ \ }
\DoxyCodeLine{00220\ \ \ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src2;\ \ }
\DoxyCodeLine{00221\ \ \ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src3;\ \ }
\DoxyCodeLine{00222\ \}\ \mbox{\hyperlink{structrs__instr__t}{rs\_instr\_t}};}
\DoxyCodeLine{00223\ }
\DoxyCodeLine{00224\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{cvector_8h_a8fc6997e5f1c633b652491bf85cd8e87}{cvector}}(\mbox{\hyperlink{structrs__instr__t}{rs\_instr\_t}})\ \mbox{\hyperlink{group__Runestone_gaa2085e91c8b692c6df33f41894b4c298}{rs\_instructions\_t}};}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00234\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{00235\ \{}
\DoxyCodeLine{00236\ \ \ \textcolor{keywordtype}{char}\ *name;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00238\ \ \ \mbox{\hyperlink{structrs__instr__t}{rs\_instructions\_t}}\ instructions;\ }
\DoxyCodeLine{00240\ \}\ \mbox{\hyperlink{structrs__basic__block__t}{rs\_basic\_block\_t}};}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{cvector_8h_a8fc6997e5f1c633b652491bf85cd8e87}{cvector}}(\mbox{\hyperlink{structrs__basic__block__t}{rs\_basic\_block\_t}}\ *)\ \mbox{\hyperlink{group__Runestone_ga850bf20a07257cd897c2e16ed29bc750}{rs\_basic\_blocks\_t}};}
\DoxyCodeLine{00243\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{cvector_8h_a8fc6997e5f1c633b652491bf85cd8e87}{cvector}}(\textcolor{keywordtype}{bool})\ \mbox{\hyperlink{group__Runestone_ga84a681857f0ab41c81aba0dd08095710}{rs\_register\_pool\_t}};}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00253\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{00254\ \{}
\DoxyCodeLine{00255\ \ \ \mbox{\hyperlink{group__Runestone_ga6d95fa5cb03e3737df867b707f39a21d}{rs\_register\_t}}}
\DoxyCodeLine{00256\ \ \ \ \ \ \ reg;\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00258\ \ \ uint8\_t\ vreg;\ \ \ \ }
\DoxyCodeLine{00260\ \ \ ptrdiff\_t\ start;\ }
\DoxyCodeLine{00262\ \ \ ptrdiff\_t\ end;\ \ \ }
\DoxyCodeLine{00264\ \}\ \mbox{\hyperlink{structrs__lifetime__t}{rs\_lifetime\_t}};}
\DoxyCodeLine{00265\ }
\DoxyCodeLine{00273\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{00274\ \{}
\DoxyCodeLine{00275\ \ \ \textcolor{keywordtype}{size\_t}\ key;\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00276\ \ \ \mbox{\hyperlink{group__Runestone_ga6d95fa5cb03e3737df867b707f39a21d}{rs\_register\_t}}\ value;\ }
\DoxyCodeLine{00277\ \}\ \mbox{\hyperlink{structrs__map__entry__t}{rs\_map\_entry\_t}};}
\DoxyCodeLine{00278\ }
\DoxyCodeLine{00279\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{cvector_8h_a8fc6997e5f1c633b652491bf85cd8e87}{cvector}}(\mbox{\hyperlink{structrs__map__entry__t}{rs\_map\_entry\_t}})\ \mbox{\hyperlink{group__Runestone_ga73ddc235c75c788931bb2e5fedc46339}{rs\_map\_entries\_t}};}
\DoxyCodeLine{00280\ }
\DoxyCodeLine{00288\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{00289\ \{}
\DoxyCodeLine{00290\ \ \ \mbox{\hyperlink{structrs__map__entry__t}{rs\_map\_entries\_t}}\ entries;\ }
\DoxyCodeLine{00291\ \}\ \mbox{\hyperlink{structrs__register__map__t}{rs\_register\_map\_t}};}
\DoxyCodeLine{00292\ }
\DoxyCodeLine{00303\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__Runestone_ga6894c9ff51e71b0f8cb8eef7b65ecb60}{rs\_regmap\_init}}(\mbox{\hyperlink{structrs__register__map__t}{rs\_register\_map\_t}}\ *map);}
\DoxyCodeLine{00304\ }
\DoxyCodeLine{00313\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__Runestone_gaf6399b2334da2bed72bc872413739f97}{rs\_regmap\_free}}(\mbox{\hyperlink{structrs__register__map__t}{rs\_register\_map\_t}}\ *map);}
\DoxyCodeLine{00314\ }
\DoxyCodeLine{00327\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__Runestone_ga66d7fbd6152f1f4493258f64f442880e}{rs\_regmap\_insert}}(\mbox{\hyperlink{structrs__register__map__t}{rs\_register\_map\_t}}\ *map,\ \textcolor{keywordtype}{size\_t}\ key,\ \mbox{\hyperlink{group__Runestone_ga6d95fa5cb03e3737df867b707f39a21d}{rs\_register\_t}}\ value);}
\DoxyCodeLine{00328\ }
\DoxyCodeLine{00342\ \mbox{\hyperlink{group__Runestone_ga6d95fa5cb03e3737df867b707f39a21d}{rs\_register\_t}}\ \mbox{\hyperlink{group__Runestone_ga9da531c55bb9593729cb5466f8dbad8d}{rs\_regmap\_get}}(\mbox{\hyperlink{structrs__register__map__t}{rs\_register\_map\_t}}\ *map,\ \textcolor{keywordtype}{size\_t}\ key);}
\DoxyCodeLine{00343\ }
\DoxyCodeLine{00354\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{group__Runestone_gaae4bc14dccdd7da71fca49f45559256f}{rs\_regmap\_contains}}(\mbox{\hyperlink{structrs__register__map__t}{rs\_register\_map\_t}}\ *map,\ \textcolor{keywordtype}{size\_t}\ key);}
\DoxyCodeLine{00355\ }
\DoxyCodeLine{00365\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__Runestone_ga2de431eddc92fc1e0b06df6010024ea8}{rs\_regmap\_remove}}(\mbox{\hyperlink{structrs__register__map__t}{rs\_register\_map\_t}}\ *map,\ \textcolor{keywordtype}{size\_t}\ key);}
\DoxyCodeLine{00366\ }
\DoxyCodeLine{00382\ \textcolor{preprocessor}{\#define\ RS\_TARGETS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00383\ \textcolor{preprocessor}{\ \ RS\_TARGET(x86\_64\_linux\_nasm,\ X86\_64\_LINUX\_NASM,\ 14,\ "{}rax"{},\ "{}rbx"{},\ "{}rcx"{},\ \(\backslash\)}}
\DoxyCodeLine{00384\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ "{}rdx"{},\ "{}rsi"{},\ "{}rdi"{},\ "{}r8"{},\ "{}r9"{},\ "{}r10"{},\ "{}r11"{},\ "{}r12"{},\ "{}r13"{},\ \ \ \(\backslash\)}}
\DoxyCodeLine{00385\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ "{}r14"{},\ "{}r15"{})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00386\ \textcolor{preprocessor}{\ \ RS\_TARGET(aarch64\_macos\_gas,\ AARCH64\_MACOS\_GAS,\ 17,\ "{}x9"{},\ "{}x10"{},\ "{}x11"{},\ \ \(\backslash\)}}
\DoxyCodeLine{00387\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ "{}x12"{},\ "{}x13"{},\ "{}x14"{},\ "{}x15"{},\ "{}x19"{},\ "{}x20"{},\ "{}x21"{},\ "{}x22"{},\ "{}x23"{},\ \(\backslash\)}}
\DoxyCodeLine{00388\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ "{}x24"{},\ "{}x25"{},\ "{}x26"{},\ "{}x27"{},\ "{}x28"{})}}
\DoxyCodeLine{00389\ }
\DoxyCodeLine{00408\ \textcolor{preprocessor}{\#define\ RS\_TARGET(lower,\ \_,\ count,\ ...)\ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00409\ \textcolor{preprocessor}{\ \(\backslash\)}}
\DoxyCodeLine{00410\ \textcolor{preprocessor}{\ \ static\ const\ char\ *rs\_target\_\#\#lower\#\#\_reg\_names[]\ =\ \{\_\_VA\_ARGS\_\_\};}}
\DoxyCodeLine{00411\ \mbox{\hyperlink{group__Runestone_ga2f90ce5323dca991d04eb4feaad64ffb}{RS\_TARGETS}}}
\DoxyCodeLine{00412\ \textcolor{preprocessor}{\#undef\ RS\_TARGET}}
\DoxyCodeLine{00413\ }
\DoxyCodeLine{00430\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}}
\DoxyCodeLine{00431\ \{}
\DoxyCodeLine{00432\ }
\DoxyCodeLine{00433\ \textcolor{preprocessor}{\#define\ RS\_TARGET(\_1,\ x,\ \_2,\ ...)\ RS\_TARGET\_\#\#x,}}
\DoxyCodeLine{00434\ \ \ \mbox{\hyperlink{group__Runestone_ga2f90ce5323dca991d04eb4feaad64ffb}{RS\_TARGETS}}}
\DoxyCodeLine{00435\ \textcolor{preprocessor}{\#undef\ RS\_TARGET}}
\DoxyCodeLine{00436\ }
\DoxyCodeLine{00437\ \ \ \ \ \ \ \mbox{\hyperlink{group__Runestone_gga5598ceb8ac9eb90edc0fb1ac43d531bfaf60539ce2644f509e68f252c73440554}{RS\_TARGET\_COUNT}},\ }
\DoxyCodeLine{00438\ \}\ \mbox{\hyperlink{group__Runestone_ga5598ceb8ac9eb90edc0fb1ac43d531bf}{rs\_target\_t}};}
\DoxyCodeLine{00439\ }
\DoxyCodeLine{00440\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{group__Runestone_ga58b5d44d5e8f8df106c687e360539852}{rs\_get\_register\_count}}(\mbox{\hyperlink{group__Runestone_ga5598ceb8ac9eb90edc0fb1ac43d531bf}{rs\_target\_t}}\ target);}
\DoxyCodeLine{00441\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ **\mbox{\hyperlink{group__Runestone_ga0c77e806cea7763fc4fd1a9a404d333f}{rs\_get\_register\_names}}(\mbox{\hyperlink{group__Runestone_ga5598ceb8ac9eb90edc0fb1ac43d531bf}{rs\_target\_t}}\ target);}
\DoxyCodeLine{00442\ }
\DoxyCodeLine{00452\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{00453\ \{}
\DoxyCodeLine{00454\ \ \ \mbox{\hyperlink{group__Runestone_ga5598ceb8ac9eb90edc0fb1ac43d531bf}{rs\_target\_t}}\ target;\ }
\DoxyCodeLine{00456\ \ \ \mbox{\hyperlink{structrs__basic__block__t}{rs\_basic\_blocks\_t}}\ basic\_blocks;\ }
\DoxyCodeLine{00457\ \ \ ptrdiff\_t\ current\_basic\_block;\ \ }
\DoxyCodeLine{00460\ \ \ \mbox{\hyperlink{structrs__lifetime__t}{rs\_lifetime\_t}}\ lifetimes[256];\ }
\DoxyCodeLine{00463\ \ \ \mbox{\hyperlink{group__Runestone_ga84a681857f0ab41c81aba0dd08095710}{rs\_register\_pool\_t}}\ register\_pool;\ }
\DoxyCodeLine{00466\ \ \ \mbox{\hyperlink{structrs__register__map__t}{rs\_register\_map\_t}}\ register\_map;\ }
\DoxyCodeLine{00468\ \ \ \textcolor{keywordtype}{size\_t}\ stack\_size;\ }
\DoxyCodeLine{00470\ \ \ \textcolor{keywordtype}{size\_t}\ next\_dst\_vreg;\ }
\DoxyCodeLine{00472\ \}\ \mbox{\hyperlink{structrs__t}{rs\_t}};}
\DoxyCodeLine{00473\ }
\DoxyCodeLine{00479\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__Runestone_gaedda2b36f99baf0648687974b81449e5}{rs\_set\_debug}}(\textcolor{keywordtype}{bool}\ enabled,\ FILE\ *stream);}
\DoxyCodeLine{00480\ }
\DoxyCodeLine{00486\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__Runestone_gad4f2783578f194c177a097d5cbcee52a}{rs\_init}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ \mbox{\hyperlink{group__Runestone_ga5598ceb8ac9eb90edc0fb1ac43d531bf}{rs\_target\_t}}\ target);}
\DoxyCodeLine{00487\ }
\DoxyCodeLine{00492\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__Runestone_gab0f592439168f8ccac37be8f8392eb75}{rs\_free}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs);}
\DoxyCodeLine{00493\ }
\DoxyCodeLine{00500\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{group__Runestone_gae94ad3f4b0764d8824a57aae32d79ab4}{rs\_append\_basic\_block}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *name);}
\DoxyCodeLine{00501\ }
\DoxyCodeLine{00507\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__Runestone_ga5ea095ec06e5d27ded04f63cc57a57e1}{rs\_position\_at\_basic\_block}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ \textcolor{keywordtype}{size\_t}\ block\_id);}
\DoxyCodeLine{00508\ }
\DoxyCodeLine{00514\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__Runestone_ga064833b22ec2ea48801f2da9f93b185e}{rs\_build\_instruction}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ \mbox{\hyperlink{structrs__instr__t}{rs\_instr\_t}}\ instruction);}
\DoxyCodeLine{00515\ }
\DoxyCodeLine{00522\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ \mbox{\hyperlink{group__Runestone_gac07ff699ec340fd6592b6ce8851013d3}{rs\_build\_move}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src);}
\DoxyCodeLine{00523\ }
\DoxyCodeLine{00530\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ \mbox{\hyperlink{group__Runestone_gae420b181cc470de475b2663040c46d16}{rs\_build\_copy}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src);}
\DoxyCodeLine{00531\ }
\DoxyCodeLine{00538\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ \mbox{\hyperlink{group__Runestone_ga49f2011fb1246a7c1fbf9b0a18c22700}{rs\_build\_load}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src);}
\DoxyCodeLine{00539\ }
\DoxyCodeLine{00546\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__Runestone_gac4b1e644b9f3a8844ae8dc75a0a5f1c8}{rs\_build\_store}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src1,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src2);}
\DoxyCodeLine{00547\ }
\DoxyCodeLine{00555\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ \mbox{\hyperlink{group__Runestone_gaf331868cd5a5d39d64b4fd8627bfeff4}{rs\_build\_add}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src1,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src2);}
\DoxyCodeLine{00556\ }
\DoxyCodeLine{00564\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ \mbox{\hyperlink{group__Runestone_ga1c10d0df862fddb8a47b981eebfa0402}{rs\_build\_sub}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src1,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src2);}
\DoxyCodeLine{00565\ }
\DoxyCodeLine{00573\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ \mbox{\hyperlink{group__Runestone_ga683fdd8b025a9c6deb36ed3cea9498d9}{rs\_build\_mult}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src1,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src2);}
\DoxyCodeLine{00574\ }
\DoxyCodeLine{00582\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ \mbox{\hyperlink{group__Runestone_ga013df9d558eefdc0145f22a2022f03c0}{rs\_build\_div}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src1,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src2);}
\DoxyCodeLine{00583\ }
\DoxyCodeLine{00589\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__Runestone_gadb1083765b8f1336be52e59e2d634b1c}{rs\_build\_ret}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src);}
\DoxyCodeLine{00590\ }
\DoxyCodeLine{00596\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__Runestone_ga9e8d21ba83dfc18c1dd792f5aac3cf99}{rs\_build\_br}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src);}
\DoxyCodeLine{00597\ }
\DoxyCodeLine{00607\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__Runestone_ga7f57cdb44274b9771dff0fbc3bd22349}{rs\_build\_br\_if}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src1,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src2,}
\DoxyCodeLine{00608\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src3);}
\DoxyCodeLine{00609\ }
\DoxyCodeLine{00617\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ \mbox{\hyperlink{group__Runestone_gaf2bd08a22dfd456c49e42150755d57fb}{rs\_build\_cmp\_eq}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src1,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src2);}
\DoxyCodeLine{00618\ }
\DoxyCodeLine{00626\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ \mbox{\hyperlink{group__Runestone_gadb3a287b47c3bf2cb81fa9227013e886}{rs\_build\_cmp\_lt}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src1,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src2);}
\DoxyCodeLine{00627\ }
\DoxyCodeLine{00635\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ \mbox{\hyperlink{group__Runestone_ga30c1da0227bf6df4231bda905f3d0d24}{rs\_build\_cmp\_gt}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src1,\ \mbox{\hyperlink{structrs__operand__t}{rs\_operand\_t}}\ src2);}
\DoxyCodeLine{00636\ }
\DoxyCodeLine{00642\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{group__Runestone_ga99ff5be0b1666a34954468ab6ec86268}{rs\_instr\_is\_terminator}}(\mbox{\hyperlink{structrs__instr__t}{rs\_instr\_t}}\ instr);}
\DoxyCodeLine{00643\ }
\DoxyCodeLine{00649\ \mbox{\hyperlink{group__Runestone_ga6d95fa5cb03e3737df867b707f39a21d}{rs\_register\_t}}\ \mbox{\hyperlink{group__Runestone_ga1241715f8b5f9767ae55bec794e28f83}{rs\_get\_free\_register}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs);}
\DoxyCodeLine{00656\ \mbox{\hyperlink{group__Runestone_ga6d95fa5cb03e3737df867b707f39a21d}{rs\_register\_t}}\ \mbox{\hyperlink{group__Runestone_ga134400f2ab34a21b321aee4de74e6392}{rs\_get\_register}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ \textcolor{keywordtype}{size\_t}\ vreg);}
\DoxyCodeLine{00657\ }
\DoxyCodeLine{00663\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__Runestone_gad65a8fe463f065ce298ca5ab43a93977}{rs\_analyze\_lifetimes}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs);}
\DoxyCodeLine{00664\ }
\DoxyCodeLine{00675\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__Runestone_ga605bdd8ef26f438366e1b797ca940428}{rs\_finalize}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs);}
\DoxyCodeLine{00676\ }
\DoxyCodeLine{00690\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__Runestone_ga8a7493eb39170041637df5b8b542e33e}{rs\_dump\_instr}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ FILE\ *fp,\ \mbox{\hyperlink{structrs__instr__t}{rs\_instr\_t}}\ instr);}
\DoxyCodeLine{00701\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__Runestone_gadd6d390153f8da57e9ac0b6372c74821}{rs\_dump}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ FILE\ *fp);}
\DoxyCodeLine{00702\ }
\DoxyCodeLine{00708\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__Runestone_gab7267a318d134361e0ae134bf2c6eb1f}{rs\_generate}}(\mbox{\hyperlink{structrs__t}{rs\_t}}\ *rs,\ FILE\ *fp);}
\DoxyCodeLine{00709\ }
\DoxyCodeLine{00710\ \textcolor{preprocessor}{\#define\ RS\_TARGET(lower,\ ...)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00711\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00716\ \textcolor{preprocessor}{\ \ void\ rs\_generate\_\#\#lower(rs\_t\ *rs,\ FILE\ *fp);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00717\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00723\ \textcolor{preprocessor}{\ \ void\ rs\_generate\_instr\_\#\#lower(rs\_t\ *rs,\ FILE\ *fp,\ rs\_instr\_t\ instr);\ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00724\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00731\ \textcolor{preprocessor}{\ \ void\ rs\_generate\_operand\_\#\#lower(rs\_t\ *rs,\ FILE\ *fp,\ rs\_operand\_t\ operand,\ \(\backslash\)}}
\DoxyCodeLine{00732\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bool\ dereference);}}
\DoxyCodeLine{00733\ \mbox{\hyperlink{group__Runestone_ga2f90ce5323dca991d04eb4feaad64ffb}{RS\_TARGETS}}}
\DoxyCodeLine{00734\ \textcolor{preprocessor}{\#undef\ RS\_TARGET}}
\DoxyCodeLine{00735\ }
\DoxyCodeLine{00740\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ RUNESTONE\_H}}

\end{DoxyCode}
